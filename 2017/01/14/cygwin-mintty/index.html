<!DOCTYPE html>
<!--[if lte IE 8 ]>
<html class="ie" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<!--
***************  *      *     *
      8          *    *       *
      8          *  *         *
      8          **           *
      8          *  *         *
      8          *    *       *
      8          *      *     *
      8          *        *   ***********    -----Theme By Kieran(http://go.kieran.top)
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<!--<![endif]-->

<head>
  <title>配置一个好用的terminal | yuzunzz.github.io</title>
  <!-- Meta data -->
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="yuzunzz.github.io">
    <meta name="author" content="yuzunzz">
    <meta name="description" content="" />
    <meta name="keywords" content="" />

    <!-- Favicon, (keep icon in root folder) -->
    <link rel="Shortcut Icon" href="/img/favicon.ico" type="image/ico">

    <link rel="alternate" href="/atom.xml" title="yuzunzz.github.io" type="application/atom+xml">
    <link rel="stylesheet" href="/css/all.css" media="screen" type="text/css">
	
    <link rel="stylesheet" href="/highlightjs/vs.css" type="text/css">
    
    

    <!-- Custom stylesheet, (add custom styles here, always load last) -->
    <!-- Load our stylesheet for IE8 -->
    <!--[if IE 8]>
    <link rel="stylesheet" type="text/css" href="/css/ie8.css" />
    <![endif]-->

    <!-- Google Webfonts (Monserrat 400/700, Open Sans 400/600) -->
    <link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600' rel='stylesheet' type='text/css'>

    <!-- Load our fonts individually if IE8+, to avoid faux bold & italic rendering -->
    <!--[if IE]>
    <link href='https://fonts.googleapis.com/css?family=Montserrat:400' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Montserrat:700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:600' rel='stylesheet' type='text/css'>
    <![endif]-->

    <!-- jQuery | Load our jQuery, with an alternative source fallback to a local version if request is unavailable -->
    <script src="//cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/jquery-1.11.1.min.js"><\/script>')</script>

    <!-- Load these in the <head> for quicker IE8+ load times -->
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="//cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="//cdn.bootcss.com/respond.js/1.4.2/respond.js"></script>
    <![endif]-->










  
  
  

  
  <style>.col-md-8.col-md-offset-2.opening-statement img{display:none;}</style>
</head>

<!--
<body class="post-template">
-->
<body id="index" class="lightnav animsition">

      <!-- ============================ Off-canvas navigation =========================== -->

    <div class="sb-slidebar sb-right sb-style-overlay sb-momentum-scrolling">
        <div class="sb-close" aria-label="Close Menu" aria-hidden="true">
            <img src="/img/close.png" alt="Close"/>
        </div>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu">
            <li><a href="/" class="animsition-link" title="Home">Home</a></li>
            <li><a href="/archives" class="animsition-link" title="archive">archives</a></li>
            <!-- Dropdown Menu -->
			 
            
            
        </ul>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu secondary">
            <li><a href="/about.html" class="animsition-link" title="about">About</a></li>
            <li><a href="/atom.xml" class="animsition-link" title="rss">RSS</a></li>
        </ul>
    </div>
    
    <!-- ============================ END Off-canvas navigation =========================== -->

    <!-- ============================ #sb-site Main Page Wrapper =========================== -->

    <div id="sb-site">
        <!-- #sb-site - All page content should be contained within this id, except the off-canvas navigation itself -->

        <!-- ============================ Header & Logo bar =========================== -->

        <div id="navigation" class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <!-- Nav logo -->
                    <div class="logo">
                        <a href="/" title="Logo" class="animsition-link">
                         <img src="https://static.yuzunzz.top/images/2016/12/12/fate-logo.png" alt="Logo" width="35px;"/> 
                        </a>
                    </div>
                    <!-- // Nav logo -->
                    <!-- Info-bar -->
                    <nav>
                        <ul class="nav">
                            <li><a href="/" class="animsition-link">yuzunzz.github.io</a></li>
                            <li class="nolink"><span>Always </span>Creative.</li>
                            
                            <li><a href="https://github.com/yuzunzz" title="Github" target="_blank"><i class="icon-github"></i></a></li>
                            
                            
                            
                            
                            
                            <li class="nolink"><span>Welcome!</span></li>
                        </ul>
                    </nav>
                    <!--// Info-bar -->
                </div>
                <!-- // .container -->
                <div class="learnmore sb-toggle-right">More</div>
                <button type="button" class="navbar-toggle menu-icon sb-toggle-right" title="More">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar before"></span>
                <span class="icon-bar main"></span>
                <span class="icon-bar after"></span>
                </button>
            </div>
            <!-- // .navbar-inner -->
        </div>

        <!-- ============================ Header & Logo bar =========================== -->

        <!-- ============================ Hero Image =========================== -->

        <section id="hero" class="scrollme">
            <div class="container-fluid element-img" style="background: url(https://static.yuzunzz.top/images/2016/12/12/bg.jpg) no-repeat center center fixed;background-size: cover">
                <div class="row">
                    <div class="col-xs-12 col-sm-8 col-sm-offset-2 col-md-8 col-md-offset-2 vertical-align cover boost text-center">
                        <div class="center-me animateme" data-when="exit" data-from="0" data-to="0.6" data-opacity="0" data-translatey="100">
                            <div>
                            	
                                <h2><p></p></h2>
                                <p></p>
				    			
                                <h2></h2>
                                <p><p></p></p>
				    			

                            </div>
                        </div>
                    </div>
                    <!-- // .col-md-12 -->
                </div>
                <div class="herofade beige-dk"></div>
            </div>
        </section>

        <!-- Height spacing helper -->
        <div class="heightblock"></div>
        <!-- // End height spacing helper -->

        <!-- ============================ END Hero Image =========================== -->
      
<section id="intro">
    <div class="container">
        <div class="row col-md-offset-2">
            <div class="col-md-8">
    			<span class="post-meta">
      <time datetime="2017-01-14T11:38:35.000Z" itemprop="datePublished">
          2017-01-14
      </time>
    
</span>
                <h1>配置一个好用的terminal</h1>
            </div>
        </div>
        <div class="col-md-8 col-md-offset-2">
      		<h2 id="效果图"><a href="#效果图" class="headerlink" title="效果图"></a>效果图</h2><p><img src="https://static.yuzunzz.top/images/2017/01/14/terminal.png" alt="terminal.png"></p>
<p>windows的cmd不够好看，也不够好用，powershell感觉又太复杂了，而且有时候想在windows下使用linux中比较好用的程序，这就需要cygwin了。</p>
<p>cygwin的安装十分方便，只需要从官网下载最新的安装包即可，添加好163的镜像源，在软件包选择界面，除了默认选择的程序，需要将wget和curl选上，方便随后要配置的apt-cyg shell程序的使用。</p>
<p>安装完之后再想添加新程序，一是可以再次运行安装程序添加，二是利用apt-cyg这个shell脚本，在命令行中安装程序，就像在debian系的linux系统中使用apt-get命令一样方便。<br>作为一个软件包管理工具，基本原理肯定是将软件包下载下来，然后按照一定规则解包到系统中。apt-cyg可以使用的下载工具有三个，lynx、wget和curl，然而cygwin在第一次默认安装的时候，并不会选上wget和curl，而lynx似乎已经不在官方支持的软件源中了。将apt-cyg脚本移动到/bin目录就可以使用。</p>
<p>cygwin中默认使用的shell终端就是mintty，但是不经过配置的mintty很是丑陋，直接附上我的配置文件。新建或者修改个人文件夹下的.minttyrc文件。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">BoldAsFont=yes</span><br><span class="line">Font=Meslo LG L DZ for Powerline</span><br><span class="line">FontHeight=11</span><br><span class="line">Transparency=medium</span><br><span class="line">CursorType=line</span><br><span class="line">Term=xterm-256color</span><br><span class="line">BellFlash=no</span><br><span class="line">ForegroundColour=205,205,205</span><br><span class="line">BackgroundColour=39,39,39</span><br><span class="line">CursorColour=162,193,224</span><br><span class="line">Black=0,0,0</span><br><span class="line">BoldBlack=33,33,33</span><br><span class="line">Red=242,142,93</span><br><span class="line">BoldRed=249,204,181</span><br><span class="line">Green=93,242,142</span><br><span class="line">BoldGreen=181,249,204</span><br><span class="line">Yellow=192,242,93</span><br><span class="line">BoldYellow=226,249,181</span><br><span class="line">Blue=142,93,242</span><br><span class="line">BoldBlue=204,181,249</span><br><span class="line">Magenta=242,93,192</span><br><span class="line">BoldMagenta=249,181,226</span><br><span class="line">Cyan=93,192,242</span><br><span class="line">BoldCyan=181,226,249</span><br><span class="line">White=221,221,221</span><br><span class="line">BoldWhite=247,247,247</span><br><span class="line">FontSmoothing=full</span><br><span class="line">AllowBlinking=yes</span><br><span class="line">Locale=zh_CN</span><br><span class="line">Charset=UTF-8</span><br><span class="line">Scrollbar=none</span><br><span class="line">OpaqueWhenFocused=no</span><br><span class="line">FontWeight=400</span><br><span class="line">RightClickAction=paste</span><br><span class="line">ClicksTargetApp=no</span><br><span class="line">ClickTargetMod=alt</span><br><span class="line">ScrollMod=alt</span><br><span class="line">Columns=121</span><br><span class="line">Rows=34</span><br></pre></td></tr></table></figure>
<p>基本上所有的终端程序，在关闭窗口后都无法在下次启动后依旧保存工作情况，比如有的时候ssh正连到服务器上突然手残把终端给关了，再打开终端就只能重新连接上去把之前的连接给干掉。使用tmux就没有这个问题了，更赞的是通过配置还能将终端的窗口进行分割。<br>然而刚装好的tmux也是不好看的，我所使用的配置文件是<a href="https://github.com/gpakosz/.tmux" target="_blank" rel="external">这个</a>，怎么用看下readme就懂了。<br>然而这个配置所使用的实时显示电量的功能对我来说没有什么用，而且十分占cpu，为了实时检测电量，作者用了好多脚本，在任务管理器中可以看到大量bash.exe在不断的启动和关闭。<br>好在作者提供了个人配置，可以在tmux.conf.local中关闭电量监控，还可以自定义状态栏的图标、颜色，相对于官方的配置文件来说要方便一些。</p>
<p>这个配置每次都得自己开启鼠标支持，虽然作者写好了函数，每次开启只需要两步，但是既然要使用tmux自然是希望能随着终端的启动自动运行的，而开启鼠标支持的操作完全可以集成在tmux的启动脚本中，附上我个人的tmux启动脚本。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">session=&quot;yuzunzz&quot;</span><br><span class="line">tmux has-session -t $session</span><br><span class="line">if [ $? = 0 ];then</span><br><span class="line">	tmux attach-session -t $session</span><br><span class="line">	exit</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">tmux new-session -d -s $session -n home</span><br><span class="line">tmux split-window -t $session:1 -v</span><br><span class="line"></span><br><span class="line">tmux select-window -t $session:1</span><br><span class="line">tmux send -t $session:1.1 fish C-m</span><br><span class="line">tmux send -t $session:1.1 &quot;cut -c3- ~/.tmux.conf | sh -s _toggle_mouse&quot; C-m</span><br><span class="line">tmux send -t $session:1.1 clear C-m</span><br><span class="line">tmux attach-session -t $session</span><br></pre></td></tr></table></figure>
<p>只要能在启动时运行到这些命令就行，我是将启动脚本存在一个.sh文件中，再在.bashrc中运行这个文件。</p>
<p>这个配置文件中底部的状态栏实现了powershell的效果，但是并没有依赖powershell，然而我需要别的程序(vim)也使用上powershell，所以还是要装的。<br>pip安装上powershell之后，对于vim来说需要在.vimrc文件中加上一段<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"># 你的powerline安装路径</span><br><span class="line">set rtp+=/usr/lib/python2.7/site-packages/powerline/bindings/vim</span><br><span class="line"></span><br><span class="line">&quot; These lines setup the environment to show graphics and colors correctly.</span><br><span class="line">set nocompatible</span><br><span class="line">set t_Co=256</span><br><span class="line"> </span><br><span class="line">let g:minBufExplForceSyntaxEnable = 1</span><br><span class="line">python from powerline.vim import setup as powerline_setup</span><br><span class="line">python powerline_setup()</span><br><span class="line">python del powerline_setup</span><br><span class="line"> </span><br><span class="line">if ! has(&apos;gui_running&apos;)</span><br><span class="line">   set ttimeoutlen=10</span><br><span class="line">   augroup FastEscape</span><br><span class="line">      autocmd!</span><br><span class="line">      au InsertEnter * set timeoutlen=0</span><br><span class="line">      au InsertLeave * set timeoutlen=1000</span><br><span class="line">   augroup END</span><br><span class="line">endif</span><br><span class="line"> </span><br><span class="line">set laststatus=2 &quot; Always display the statusline in all windows</span><br><span class="line">set guifont=Inconsolata\ for\ Powerline:h14</span><br><span class="line">set noshowmode &quot; Hide the default mode text (e.g. -- INSERT -- below the statusline)</span><br></pre></td></tr></table></figure></p>
<p>在我配置的terminal中，上半部分所使用的终端程序为fish，配上powershell，下面部门和新建的窗口则依旧使用默认的bash。对于fish来说，要集成使用powershell，需要在.config/config.fish中添加<br><code>set fish_function_path $fish_function_path &quot;/usr/lib/python2.7/site-packages/powerline/bindings/fish&quot;</code><br>而默认的bash也可以自定义提示符的格式，我自己的配置如下，具体可以搜索学习后参照更改。<br><code>export PS1=&#39;\[\e[38;5;189m\]\u™\[\e[0m\]\[\e[38;5;231m\]@\H \[\e[0m\] \[\e[1;32;1m\]\w\[\e[0m\] \$ &#39;</code><br>同样需要放置在bash的启动配置中，这样每次新建bash的时候都能生效。</p>
<p>使用powerline还需要使用特别的字体，在官方的github上有提供，推荐我所使用的这个字体，另外选择这种字体的时候可能点击确认按钮会弹窗告知无法使用，其实只需要应用，再把设置窗口关掉就行了，直接在配置文件中更改也可以。</p>
<p>Over</p>

            <div class="clearfix"></div>
            <hr class="nogutter">
        </div>
        <nav class="pagination" role="pagination">
    
    
    <a class="pull-right" href="/2017/01/03/script-sole/">
        填坑——脚本大坑 →
    </a>
    
</nav>

        <div class="duoshuo"></div>
    </div>
</section>


      
<!-- ============================ Footer =========================== -->

<footer>
    <div class="container">
            <div class="copy">
                <p>
                    &copy; 2014<script>new Date().getFullYear()>2010&&document.write("-"+new Date().getFullYear());</script>, Content By yuzunzz. All Rights Reserved.
                </p>
                <p>Theme By <a href="//go.kieran.top" style="color: #767D84">Kieran</a></p>
            </div>
            <div class="social">
                <ul>
                    
                    <li><a href="https://github.com/yuzunzz" title="Github" target="_blank"><i class="icon-github"></i></a>&nbsp;</li>
                    
                    
                    
                    
                    
                </ul>
            </div>
            <div class="clearfix"> </div>
        </div>
</footer>

<!-- ============================ END Footer =========================== -->
      <!-- Load our scripts -->
        
<!-- Resizable 'on-demand' full-height hero -->
<script type="text/javascript">
    
    var resizeHero = function () {
        var hero = $(".cover,.heightblock"),
            window1 = $(window);
        hero.css({
            "height": window1.height()
        });
    };
    
    resizeHero();
    
    $(window).resize(function () {
        resizeHero();
    });
</script>

<script src="/js/plugins.min.js"></script>
<!-- Bootstrap core and concatenated plugins always load here -->
<script src="//cdn.bootcss.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
<script src="//cdn.bootcss.com/modernizr/2.8.3/modernizr.min.js"></script>
<script src="//cdn.bootcss.com/pace/1.0.0/pace.min.js"></script>
<script src="//cdn.bootcss.com/animsition/3.4.1/js/jquery.animsition.min.js"></script>
<script src="//cdn.bootcss.com/wow/1.0.3/wow.min.js"></script>
<script src="//cdn.bootcss.com/slidebars/0.10.2/slidebars.min.js"></script>
<script src="//cdn.bootcss.com/jquery.nicescroll/3.6.0/jquery.nicescroll.min.js"></script>


<script src="//cdn.bootcss.com/flexslider/2.2.2/jquery.flexslider-min.js"></script><!-- Flexslider plugin -->
<script src="/js/scripts.js"></script><!-- Theme scripts -->

<!-- Initiate flexslider plugin -->
<script type="text/javascript">
    $(document).ready(function($) {
      $('.flexslider').flexslider({
        animation: "fade",
        prevText: "",
        nextText: "",
        directionNav: true
      });
    });
</script>

</body>
</html>
